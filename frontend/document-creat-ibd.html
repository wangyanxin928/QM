<!DOCTYPE html>
<!--[if IE 8]>
<html lang="en" class="ie8 no-js"> <![endif]-->
<!--[if IE 9]>
<html lang="en" class="ie9 no-js"> <![endif]-->
<html>
<head lang="en">
    <meta charset="UTF-8">
    <title>QM-文档-开发框架</title>
    <meta content="width=device-width, initial-scale=1.0" name="viewport">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">

    <meta property="og:site_name" content="-CUSTOMER VALUE-">
    <meta property="og:title" content="-CUSTOMER VALUE-">
    <meta property="og:description" content="-CUSTOMER VALUE-">
    <meta property="og:type" content="website">
    <meta property="og:image" content="-CUSTOMER VALUE-">
    <!-- link to image for socio -->
    <meta property="og:url" content="-CUSTOMER VALUE-">

    <!--  <link rel="shortcut icon" href="favicon.ico">-->
    <!-- Global styles START -->
    <link href="../assets/global/plugins/font-awesome/css/font-awesome.min.css" rel="stylesheet">
    <link href="../assets/global/plugins/simple-line-icons/simple-line-icons.min.css" rel="stylesheet">
    <link href="../assets/global/plugins/bootstrap/css/bootstrap.min.css" rel="stylesheet">
    <!-- Global styles END -->

    <!-- Page level plugin styles START -->
    <link href="../assets/global/plugins/fancybox/source/jquery.fancybox.css" rel="stylesheet">
    <link href="../assets/global/plugins/highlight/styles/vs.css" rel="stylesheet">
    <!-- Page level plugin styles END -->

    <!-- Theme styles START -->
    <link href="../assets/global/css/components.css" rel="stylesheet">
    <link href="../assets/frontend/layout/css/style.css" rel="stylesheet">
    <!--修改-->
    <link href="../assets/frontend/layout/css/style-responsive.css" rel="stylesheet">
    <!--修改-->
    <link href="../assets/frontend/layout/css/themes/red.css" rel="stylesheet" id="style-color">
    <link href="../assets/global/css/base.css" rel="stylesheet">
    <link href="../assets/frontend/layout/css/custom.css" rel="stylesheet">
    <!-- Theme styles END -->
</head>
<!-- Head END -->

<!-- Body BEGIN -->
<body class="corporate">
<!-- BEGIN contain -->
<div class="padding-top-70 container-fluid">
    <div class="main-container qm-doc-container qm-fixed">
        <div class="doc-left-menu">
            <!--search box-->
            <form class="search-form form-inline" role="form" action="/">
                <div class="form-group">
                    <label class="sr-only" for="search">Search</label>
                    <input type="search" class="form-control" name="search" id="search" value="" placeholder="Search">
                </div>
            </form>
            <ul class="doc-nav">
                <li class="page"><a href="#">Overview</a></li>
                <li class="category">
                    <h5 class="category-title">QM快速开发平台</h5>
                    <ul class="pages">
                        <li class="page"><a href="document-qm-intro.html">QM介绍</a></li>
                        <li class="page "><a href="document-make-app.html">使用QM创建一个APP</a></li>
                        <li class="page"><a href="document-store-intro.html">模版开发并发布</a></li>
                        <li class="page"><a href="document-module-intro.html">组件开发并发布</a></li>
                        <li class="page"><a href="document-app.html">如何与IBD对接</a></li>
                        <li class="page"><a href="document-else.html">其他相关如：推送、地图等</a></li>
                        <li class="page"><a href="document-install-update.html">APP安装与升级</a></li>
                        <li class="page"><a href="document-qm-standard.html">开发框架规范</a></li>
                    </ul>
                </li>

                <li class="category">
                    <h5 class="category-title">移动IBD</h5>
                    <ul class="pages">
                        <li class="page"><a href="document-api-intro.html">QMapi介绍</a></li>
                        <li class="page"><a href="document-link-ibd.html">应用如何对接IBD</a></li>
                        <li class="page active"><a href="document-creat-ibd.html">创建自己的IBD【公共化/私有化】</a></li>
                        <li class="page"><a href="document-app-store.html">应用市场</a></li>
                        <li class="page"><a href="document-service-market.html">服务市场</a></li>
                        <li class="page"><a href="document-data-market.html">数据市场</a></li>
                        <li class="page"><a href="document-develop-intro.html">开发接口指南</a></li>
                    </ul>
                </li>
                <li class="category">
                    <h5 class="category-title">云API</h5>
                    <ul class="pages">
                        <li class="page"><a href="document-drf.html">DRF - 关于数据</a></li>
                        <li class="page"><a href="document-iom.html">IOM - 关于权限</a></li>
                        <li class="page"><a href="document-csc.html">CSC - 关于人员</a></li>
                        <li class="page"><a href="document-rp.html">云资源池 - 关于资源池</a></li>
                    </ul>
                </li>

                <li class="category">
                    <h5 class="category-title">其它服务协议</h5>
                    <ul class="pages">
                        <li class="page"><a href="document-service-secret.html">隐私条款</a></li>
                        <li class="page"><a href="document-service.html">服务条款</a></li>
                        <li class="page"><a href="document-template-service.html">模板市场服务协议</a></li>
                        <li class="page"><a href="document-module-service.html">组件市场服务协议</a></li>
                        <li class="page"><a href="document-app-service.html">APP服务协议</a></li>
                        <li class="page"><a href="document-faq.html">FAQ</a></li>
                    </ul>
                </li>
            </ul>

        </div>
        <div class="doc-rigcon">
            <div class="main-content">
                <section class="doc-content">
                    <h1 class="title">开发框架规范</h1>

                    <p><a href="#1">框架简介</a></p>

                    <p><a href="#2">资源下载</a></p>

                    <p><a href="#3">框架标准及规范</a></p>

                    <p><a href="#4">授权规范</a></p>

                    <p><a href="#5">使用案例</a></p>

                    <h1 id="-div-id-1-div-"><strong>框架简介</strong>

                        <div id="1"></div>
                    </h1>
                    <p style="line-height: 30px;">
                        QM快速开发平台-原生开发框架：<br/>
                        &nbsp; &nbsp; &nbsp; &nbsp;
                        QM原生开发框架集成了iOS与Android两个平台的原生框架，封装了包括 登录/注册、版本升级、推送服务、统计服务、质量监测、单点登录、引导过渡页等所有移动端开发公共的功能API。
                        目的是解决前端开发者开发过程中过分依赖后台服务程序的弊端，解决了快速开发模版应用的迫切需求。
                    </p>

                    <h1 id="-div-id-2-div-"><strong>资源下载</strong>

                        <div id="2"></div>
                    </h1>
                    <p style="line-height: 30px;">
                        iOS原生框架下载地址： <a>https://www.qmakecloud.com/frmake/ios</a>   <br/>
                        Android原生框架下载地址： <a>https://www.qmakecloud.com/frmake/android</a>
                    </p>

                    <h1 id="-div-id-3-div-"><strong>框架标准及规范</strong>

                        <div id="3"></div>
                    </h1>
                    <p>QM原生开发框架集成原生应用对接快速开发平台的平台级功能。</p>

                    <h2 id="-">登录/注册：</h2>

                    <p style="line-height: 30px;">注册并登录快速开发平台提供人员管理系统：<br/>
                        使用开发平台提供的H5的登录与注册
                        </p>

                    <p>
                        <pre><code class="lang-js xml">
                    [GnetQM_XMPPManager sharedInstance]loginRegisterMothod:^(BOOL ret)
                        </code></pre>
                    </p>

                    <p>获取登录/注册成功后的个人信息</p>

                    <p>
                         <pre><code class="lang-js xml">
                    [GnetQM_XMPPManager sharedInstance]loginRegisterSuccessMothod:^(BOOL ret)

                    --  userId; //用户编号
                    --  userName; //用户姓名
                    --  userLogoUrl; //用户头像
                         </code></pre>
                    </p>

                    <h2 id="-">APP引导页面：</h2>

                    <p style="line-height: 30px;">加载APP引导页：<br/>
                        1)使用H5形式的APP引导页
                    </p>

                    <p>
                        <pre><code class="lang-js xml">
                    [GnetQM_XMPPManager sharedInstance]IntroWebViewMethod:^(BOOL ret)

                    --  introUrl; //引导页地址
                    --  jumpIntro; //跳出引导
                        </code></pre>
                    </p>
                    <p style="line-height: 30px;">
                        2)使用图片形式的APP引导页
                    </p>

                    <p>
                        <pre><code class="lang-js xml">
                    [GnetQM_XMPPManager sharedInstance]IntroImgMethod:^(BOOL ret)

                     --  introImgUrl; //引导图片地址
                     --  introImgCount; //引导图片数量
                     --  jumpIntro; //跳出引导
                        </code></pre>
                    </p>

                    <h2 id="-">版本升级检测：</h2>

                    <p style="line-height: 30px;">监测应用是否有新版本：<br/>
                        使用GnetQM_Server_CSCCheckVER类的startCSCCheckVERCallBack:方法,参数为一个回调BLOCK,有四个参数,如下:
                        <br/>

                    </p>

                    <p>
                        <pre><code class="lang-js xml">
                        newVERUrl;      //新版本下载地址
                        newVERNum;      //新版本号
                        newVERMsg;      //新版本更新的内容提示
                        newVERState;    //新版本VS本地版本的状态（-2=未知原因,失败 -1=本地版本较高，0=相同，1=新版本较高）
                        </code></pre>
                    </p>
                    <p style="line-height: 30px;">
                        示例代码：
                    </p>

                    <p>
                        <pre><code class="lang-js xml">
                    GnetQM_Server_CSCCheckVER *tCheckVersion = [GnetQM_Server_CSCCheckVER shareSingleton];
                    [tCheckVersion startCSCCheckVERCallBack:
                        ^(NSString *newVERUrl, NSString *newVERNum, NSString *newVERMsg, NSInteger newVERState) {
                            if (1 == newVERState)
                            {
                                //有新版本
                            }
                        }
                    ];
                        </code></pre>
                    </p>

                    <h2 id="-">性能检测：</h2>

                    <p style="line-height: 30px;">监测应用是否有新版本：<br/>
                        快速开发平台使用听云质量监测服务，需要在听云购买APP监测点数，购买之后，在框架中做如下配置：<br/>
                        1.下载听云的SDK服务<br/>
                        2.创建APP<br/>
                        3.在PrefixHeader.pch中宏定义k_TINGYUN_APPID为听云的APPID:
                        <br/>

                    </p>


                    <h2 id="-">单点登录：</h2>

                    <p style="line-height: 30px;">APP需要用户单点登录，踢出其他设备登录相同帐号的登录状态：<br/>
                        使用GnetQM_XMPPManager类 ：<br/>

                        示例代码：
                        <br/>

                    </p>
                    <p>
                        <pre><code class="lang-js xml">
                        /*
                        *注意：
                        *kUSER_ACCOUNT 是登陆后返回的UserID
                        *注册的openfire的密码就是123456,不是用户密码)
                        */
                        //设置账户名 密码 注册
                        [[NSUserDefaults standardUserDefaults]setObject:kUSER_ACCOUNT forKey:kXMPPmyJID];

                        [[NSUserDefaults standardUserDefaults] setObject:kUSER_PASSWORD forKey:kXMPPmyPassword];


                        </code></pre>
                    </p>


                    <h1 id="-config-xml-div-id-5-div-"><strong>授权规范</strong>

                        <div id="4"></div>
                    </h1>
                        <ul style="line-height: 30px;margin-left: 20px;">
                        <li>在开发框架的系统库中添加需要绑定的付费模块；</li>
                        <li>在已添加模块列表中选择需要授权的模块；</li>
                        <li>输入授权码，点击确定，如授权码正确则授权成功；</li>
                        <li>授权成功的模块，在该项目已添加的界面中，显示已授权；</li>
                        <li>只有APP创建者可对APP进行付费模块授权操作；</li>
                        <li>已授权的模块只可被单个应用所使用； </li>
                        <li>可通过编译测试包的方式来体验收费模块效果；</li>
                    </ul>

                    <ul style="line-height: 30px;margin-left: 20px;">
                        <li>“id”: 必填，应用ID，由云服务器自动分配。它是该应用的唯一标识。</li>
                        <li>“version”：必填，应用的版本号。</li>
                        <li>“name”：必填，应用名称。</li>
                        <li>“description”：可选，应用简单描述信息。</li>
                        <li>“content”：必填，应用运行的起始页。</li>
                        <li>“permission”：必填，权限配置。
                            （详细介绍见<a href="">应用配置指南</a>文档）
                        </li>
                    </ul>
                    <h1 id="-div-id-6-div-"><strong>使用案例</strong>

                        <div id="6"></div>
                    </h1>
                    <p>（详细文档见<a href="">Framework开发指南</a>文档）</p>


                    <div class="page-meta clearfix">
                        <div class="last-updated pull-right">
                            <!-- Last updated on 13th Sep 2015 -->
                        </div>
                    </div>
                </section>

            </div>
        </div>

    </div>

</div>
<!-- end contain -->


<!-- Load javascripts at bottom, this will reduce page load time -->
<!-- BEGIN CORE PLUGINS (REQUIRED FOR ALL PAGES) -->
<!--[if lt IE 9]>
<script src="../assets/global/plugins/respond.min.js"></script>
<![endif]-->
<script src="../assets/global/plugins/jquery.min.js" type="text/javascript"></script>
<script src="../assets/global/plugins/jquery-migrate.min.js" type="text/javascript"></script>
<script src="../assets/global/plugins/bootstrap/js/bootstrap.min.js" type="text/javascript"></script>
<script src="../assets/global/plugins/bootstrap-hover-dropdown/bootstrap-hover-dropdown.min.js"
        type="text/javascript"></script>
<script src="../assets/global/plugins/highlight/highlight.pack.js" type="text/javascript"></script>
<!--代码片段高亮-->
<!--<script src="../assets/global/plugins/highlightjs/highlight.pack.js" type="text/javascript"></script><!--代码片段高亮-->
-->

<script src="../assets/frontend/layout/scripts/back-to-top.js" type="text/javascript"></script>
<!-- <script src="../assets/frontend/layout/scripts/doc-layout.js" type="text/javascript"></script> -->
<!-- END CORE PLUGINS -->

<!-- BEGIN PAGE LEVEL JAVASCRIPTS (REQUIRED ONLY FOR CURRENT PAGE) -->
<script src="../assets/global/plugins/fancybox/source/jquery.fancybox.pack.js" type="text/javascript"></script>
<!-- pop up -->
<script src="../assets/global/plugins/jquery-slimscroll/jquery.slimscroll.min.js" type="text/javascript"></script>
<!--滚动条-->

<script src="../assets/frontend/layout/scripts/layout.js" type="text/javascript"></script>
<!--修改-->
<script type="text/javascript">
    jQuery(document).ready(function () {
        Layout.init();
//        hljs.initHighlightingOnLoad();
        $('pre code').each(function (i, block) {
            hljs.highlightBlock(block);
        });
    });

</script>
<!-- END PAGE LEVEL JAVASCRIPTS -->
</body>
<!-- END BODY -->
</html>